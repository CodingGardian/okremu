
<!DOCTYPE html>
<html>
  <head>
    <title>okrEMU</title>
    <link rel='stylesheet' href='css/styledselect.css'>
  </head>
  <body>
    <div class="custom-select" style="width:200px;">
      <select id='chooseconsole'>
        <option value="0" selected="selected">All</option>
        <option value="1">NES</option>
        <option value="2">SNES</option>
      </select>
    </div>
    <input type="text" id="search" name="search" placeholder='Search...'>
    <br>
    <div id='nes'></div>
    <div id='snes'></div>
    <script src='scripts/styledselect.js'></script>
    <script>
      var gameVals = [
        ['13wySMZWq97O2fFWDUHGSCWUb_u-IyJ8U', 'nes', 'nes', 'https://images-na.ssl-images-amazon.com/images/I/81RdY00vQ4L._AC_SX215_.jpg', 'Super Mario Bros. / Duck Hunt / World Class Track Meet'],
        ['1u-hzcVepLI0cAy0NygrOtKZn-TafVsCG', 'nes', 'nes', 'https://images-na.ssl-images-amazon.com/images/I/613Py5NEsSL._AC_SY741_.jpg', 'Super Mario Bros. 3'],
        ['1-JsQrtNd3Wr6RWOs6bsvJ3HgUrepvz2-', 'nes', 'nes', 'https://giantbomb1.cbsistatic.com/uploads/original/9/93770/2362033-nes_marioismissing.jpg', 'Mario is Missing!'],
        ['1VRYmvFUji9_nn8iJdM953BTYxe5OV50h', 'nes', 'nes', 'https://images-na.ssl-images-amazon.com/images/I/61SpXK8QZfL._SY679_.jpg', 'The Legend of Zelda'],
        ['1-b8qD__nB-4coXf7S8-zjEPug2GYlR3g', 'nes', 'nes', 'https://upload.wikimedia.org/wikipedia/en/thumb/b/be/Megaman2_box.jpg/220px-Megaman2_box.jpg', 'Mega Man 2'],
        ['1VsyiSyCT_GAkMZWGz9wLpMseog8iNLTo', 'nes', 'nes', 'https://media.gamestats.com/gg/image/object/006/006706/castlevania3_nesboxboxart_160w.jpg', 'Castlevania III: Dracula\'s Curse'],
        ['1gVFYFsY-HXJ2Z6E4MTBls6AuwJEDNivS', 'nes', 'nes', 'https://media.ign.com/games/image/object/006/006006/Metroid_NES_US_ORIGINALboxart_160w.jpg', 'Metroid'],
        ['1MPhgVoeOUu6CIEsi1uoNknuYJ2kzfbjq', 'nes', 'nes', 'https://xboxmedia.ign.com/xbox/image/object/005/005654/miketysonpo_nesboxboxart_160w.jpg', 'Mike Tyson\'s Punch-Out!!'],
        ['1iUJ-ZLYAPjqdc51Sgv3Uq-nODzlO5Amd', 'nes', 'nes', 'https://xboxmedia.ign.com/xbox/image/object/006/006015/dragonwarrior_nesboxboxart_160w.jpg', 'Dragon Warrior'],
        ['1Dbs60qDHsirCnjpeV3ABxY9bgfsscbM7', 'nes', 'nes', 'https://xboxmedia.ign.com/xbox/image/object/007/007360/bioncommand_nesboxboxart_160w.jpg', 'Bionic Commando'],
        ['1YkQLBsGerGQGqyXp965bEdA4kc8L_tAl', 'zip', 'snes', 'https://images-na.ssl-images-amazon.com/images/I/71TbLYKMk4L._AC_SX425_.jpg', 'Super Mario World']
      ],
          divids = ['nes', 'snes'];
      gameVals.sort(function(a, b){
        var intArray = [a[4], b[4]]
        intArray.sort();
        if(intArray.join('\\') === [a[4], b[4]].join('\\')){
          return -1;
        } else {
          return 1;
        }
      });
      gameVals.forEach(setUpImgs);
      setInterval(function(){
        document.getElementsByTagName('select')[0].dispatchEvent(new Event('change'));
        document.getElementsByClassName('select-selected')[0].innerHTML = document.getElementById('chooseconsole').getElementsByTagName('option')[document.getElementById('chooseconsole').selectedIndex].innerHTML;
        if(document.getElementById('search').value !== '' && document.getElementById('search').value !== null && document.getElementById('search').value !== undefined){
          for(var i = 0; i < gameVals.length; i++){
            if(gameVals[i][4].toLowerCase().indexOf(document.getElementById('search').value.toLowerCase()) === -1){
              document.getElementById(gameVals[i][0]).style.display = 'none';
            } else {
              document.getElementById(gameVals[i][0]).style.display = 'inline-block';
            }
          }
        } else {
          for(var i = 0; i < gameVals.length; i++){
            document.getElementById(gameVals[i][0]).style.display = 'inline-block';
          }
        }
      }, 0);
      document.getElementById('chooseconsole').addEventListener('change', (e) => {
        var selval = e.target.value;
        if(selval === '0'){
          for(var i = 0; i < divids.length; i++){
            document.getElementById(divids[i]).style.display = 'inline-block';
          }
        } else if(selval === '1'){
          for(var i = 0; i < divids.length; i++){
            if(divids[i] === 'nes'){
              document.getElementById(divids[i]).style.display = 'inline-block';
            } else {
              document.getElementById(divids[i]).style.display = 'none';
            }
          }
        } else if(selval === '2'){
          for(var i = 0; i < divids.length; i++){
            if(divids[i] === 'snes'){
              document.getElementById(divids[i]).style.display = 'inline-block';
            } else {
              document.getElementById(divids[i]).style.display = 'none';
            }
          }
        }
      });
      function setUpImgs(item, index){
        var gameImg = document.createElement('IMG');
        gameImg.id = item[0];
        gameImg.src = item[3];
        gameImg.height = '256';
        document.getElementById(item[2]).appendChild(gameImg);
        document.getElementById(item[0]).addEventListener("click", function(){
          localStorage.setItem('gameid', item[0]);
          localStorage.setItem('gameext', item[1]);
          document.location.href = 'https://thatfrueddued.github.io/okremu/emulator.html';
        });
      }
    </script>
  </body>
</html>
